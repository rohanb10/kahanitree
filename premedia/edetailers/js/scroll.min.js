if(!isIE){$.fn.isInViewport=function(){return $(this).offset().top+$(this).outerHeight()>$(window).scrollTop()&&$(this).offset().top<$(window).scrollTop()+$(window).height()};var now=Date.now||function(){return(new Date).getTime()};function throttle(n,e,t){var r,o,l,a,i=0;t||(t={});var s=function(){i=!1===t.leading?0:now(),r=null,a=n.apply(o,l),r||(o=l=null)},c=function(){var c=now();i||!1!==t.leading||(i=c);var v=e-(c-i);return o=this,l=arguments,v<=0||v>e?(r&&(clearTimeout(r),r=null),i=c,a=n.apply(o,l),r||(o=l=null)):r||!1===t.trailing||(r=setTimeout(s,v)),a};return c.cancel=function(){clearTimeout(r),i=0,r=o=l=null},c}var lastScrollTop=0,delta=5,nav=$("nav"),navbarHeight=nav.outerHeight();function navbarHider(){var n=$(".scroll-snap-container").scrollTop();Math.abs(lastScrollTop-n)<=delta||(n>lastScrollTop&&n>navbarHeight?nav.addClass("scrolling"):nav.removeClass("scrolling"),lastScrollTop=n)}var scrollInterval,scrolling=!1;function setScrollingInterval(){return setInterval(function(){scrolling&&(navbarHider(),scroll=!1)},250)}var resizeTimer,sectionIDs=["#home","#eDetailers","#certifications","#services","#how-we-work","#map","#about","#contact"];function checkScrollMethod(){return window.innerWidth>768?($(".section").css("height",window.innerHeight),$(".section").removeClass("rendered"),$(".scroll-snap-container").unbind(),clearInterval(scrollInterval),$(".scroll-snap-container").on("scroll",throttle(function(){$(".nav-item").removeClass("active");for(var n=0;n<sectionIDs.length;n++){var e=$(sectionIDs[n]);if(e.isInViewport()){e.addClass("animated"),$(".nav-item[data-name="+sectionIDs[n]+"]").addClass("active"),e.hasClass("dark-bg")?$(".nav-container").addClass("dark-bg"):$(".nav-container").removeClass("dark-bg");break}}},100)),!1):($(".section").css("height","initial"),$(".scroll-snap-container").unbind(),$(".scroll-snap-container").on("scroll",throttle(function(){scrolling=!0},100)),scrollInterval=setScrollingInterval(),!0)}window.onresize=function(){clearTimeout(resizeTimer),resizeTimer=setTimeout(checkScrollMethod,1e3)}}