if(!isIE){var sectionIDs=["#home","#eDetailers","#certifications","#services","#how-we-work","#map","#about","#contact"];$.fn.isOnScreen=function(){var elementBottom=$(this).offset().top+$(this).outerHeight();var navbarHeight=$(".nav-logo").offset().top+$(".nav-logo").outerHeight();return elementBottom>navbarHeight};function animateNextSection(currentSectionIndex){if(currentSectionIndex+1>=sectionIDs.length){return false}var currentSection=$(sectionIDs[currentSectionIndex]);var nextSection=$(sectionIDs[currentSectionIndex+1]);var trigger=currentSection.scrollTop()+currentSection.outerHeight()/2;var nextTop=nextSection.offset().top;if(trigger>nextTop){nextSection.addClass("animated");return true}return false}function mobileNavigate(el){document.location.hash=el.dataset.name;document.getElementById("hamburger").checked=false;setTimeout(function(){$("nav").addClass("scrolling")},300)}function desktopNavigate(el,location=null){var sectionName=el===null?location:el.dataset.name;var currentSectionIndex=sectionIDs.indexOf(sectionName);if(!$(sectionIDs[currentSectionIndex]).hasClass("animated")){for(var i=0;i<=currentSectionIndex;i++){$(sectionIDs[i]).addClass("animated")}}if(location){window.location=location}}var now=Date.now||function(){return(new Date).getTime()};function throttle(func,wait,options){var timeout,context,args,result;var previous=0;if(!options)options={};var later=function(){previous=options.leading===false?0:now();timeout=null;result=func.apply(context,args);if(!timeout)context=args=null};var throttled=function(){var _now=now();if(!previous&&options.leading===false)previous=_now;var remaining=wait-(_now-previous);context=this;args=arguments;if(remaining<=0||remaining>wait){if(timeout){clearTimeout(timeout);timeout=null}previous=_now;result=func.apply(context,args);if(!timeout)context=args=null}else if(!timeout&&options.trailing!==false){timeout=setTimeout(later,remaining)}return result};throttled.cancel=function(){clearTimeout(timeout);previous=0;timeout=context=args=null};return throttled}var lastScrollTop=0;var delta=5;var nav=$("nav");var navbarHeight=nav.outerHeight();function navbarHider(){var st=$(".scroll-snap-container").scrollTop();if(Math.abs(lastScrollTop-st)<=delta){return}if(st>lastScrollTop&&st>navbarHeight){nav.addClass("scrolling")}else{nav.removeClass("scrolling")}lastScrollTop=st}var scrolling=false;var scrollInterval;function setScrollingInterval(){return setInterval(function(){if(scrolling){navbarHider();scroll=false}},250)}function checkScrollMethod(){if(window.innerWidth>768){$(".section").css("height",window.innerHeight);if(!isIE){$(".section").removeClass("rendered")}$(".scroll-snap-container").unbind();clearInterval(scrollInterval);$(".scroll-snap-container").on("scroll",throttle(function(){for(var i=0;i<sectionIDs.length;i++){var section=$(sectionIDs[i]);if(section.isOnScreen()){$(".nav-item").removeClass("active");$('.nav-item[data-name="'+sectionIDs[i]+'"]').addClass("active");changeNavbarColor(section);break}}for(var i=0;i<sectionIDs.length-1;i++){var nextSection=$(sectionIDs[i+1]);if(nextSection&&!nextSection.hasClass("animated")){animateNextSection(i);break}}},200));return false}else{$(".section").css("height","initial");$(".scroll-snap-container").unbind();$(".scroll-snap-container").on("scroll",throttle(function(){scrolling=true},100));scrollInterval=setScrollingInterval();return true}}function changeNavbarColor(section){var nav=$("nav");if(section.hasClass("dark-bg")&&!nav.hasClass("dark-bg")){nav.removeClass("grey-bg").addClass("dark-bg")}else if(section.hasClass("grey-bg")&&!nav.hasClass("grey-bg")&&!$("#cert-modal").hasClass("active")){nav.removeClass("dark-bg").addClass("grey-bg")}else if(!section.hasClass("dark-bg")&&!section.hasClass("grey-bg")){nav.removeClass("dark-bg grey-bg")}}var resizeTimer;window.onresize=function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(checkScrollMethod,1e3)}}function escapeToClose(e){if(e.keyCode==27){closeCertModal()}}function openCertModal(element,certName){if(isIE){$("#certifications").addClass("dark-bg");$("#cert-modal, .modal-content, #"+certName).css({display:"block"});return}const rect=element.getBoundingClientRect();var cords={x:(rect.left+rect.right)/2,y:element.offsetTop+element.offsetHeight/2};createCircleAnimation(cords);$(element).addClass("active");$("#cert-modal").addClass("active").css({display:"flex","animation-name":"circle-in"});$("#"+certName).css({display:"block"});$("#certifications").addClass("dark-bg");changeNavbarColor($("#certifications"));$(".modal-content").delay(600).fadeIn(300);document.addEventListener("keydown",escapeToClose)}function closeCertModal(){if(isIE){$("#certifications").removeClass("dark-bg");$("#cert-modal, .modal-content, #veeva, #oce, #mitouch").css({display:"none"});return}$(".modal-content, #veeva, #oce, #mitouch").fadeOut(300);$("#cert-modal").removeClass("active").delay(150).css({"animation-name":"circle-out"}).delay(700).toggle(1);$(".cert-logo-container").removeClass("active");$("#certifications").addClass("grey-bg").removeClass("dark-bg");changeNavbarColor($("#certifications"));document.removeEventListener("keydown",escapeToClose)}function createCircleAnimation(cords){var xy=cords.x+"px "+cords.y+"px";$.keyframe.define([{name:"circle-in",from:{"clip-path":"circle(  0% at "+xy+")","-webkit-clip-path":"circle(  0% at "+xy+")","-ms-clip-path":"circle(  0% at "+xy+")"},to:{"clip-path":"circle(120% at "+xy+")","-webkit-clip-path":"circle(120% at "+xy+")","-ms-clip-path":"circle(120% at "+xy+")"}}]);$.keyframe.define([{name:"circle-out",from:{"clip-path":"circle(120% at "+xy+")","-webkit-clip-path":"circle(120% at "+xy+")","-ms-clip-path":"circle(120% at "+xy+")"},to:{"clip-path":"circle(  0% at "+xy+")","-webkit-clip-path":"circle(  0% at "+xy+")","-ms-clip-path":"circle(  0% at "+xy+")"}}])}function howWeWorkHandler(el,id){$(".work-selector span").removeClass("active");var displayType=window.innerWidth<=768?"block":"flex";$(el).delay(300).addClass("active");if(id==="model"){$("#process").fadeOut(300);$("#model").css("display",displayType).hide().delay(300).fadeIn(300)}else{$("#model").fadeOut(300);$("#process").css("display",displayType).hide().delay(300).fadeIn(300)}}const COUNTRIES=[{latLng:[46.82,8.23],name:"Switzerland",details:"eDetailing, Website Development, Emailers"},{latLng:[1.35,103.82],name:"Singapore",details:"eDetailing, Emailers"},{latLng:[25.03,121.57],name:"Taiwan",details:"eDetailing, Emailers"},{latLng:[-33.92,18.42],name:"South Africa",details:"eDetailing"},{latLng:[51.51,.13],name:"United Kingdom",details:"eDetailing, Website Development"},{latLng:[47.51,14.55],name:"Austria",details:"Website Development, Emailers"},{latLng:[19.43,-99.13],name:"Mexico",details:"eDetailing, Emailers"},{latLng:[56.26,9.5],name:"Denmark",details:"Website Development"},{latLng:[-22.91,-43.17],name:"Brazil",details:"Emailers"},{latLng:[52.52,13.4],name:"Germany",details:"Website Development"},{latLng:[22.32,114.17],name:"Hong Kong",details:"eDetailing"},{latLng:[46.23,2.21],name:"France",details:"eDetailing, Emailers"},{latLng:[-37.81,144.96],name:"Australia",details:"eDetailing, Emailers"},{latLng:[53.14,-7.69],name:"Ireland",details:"Emailers"},{latLng:[40.42,-3.7],name:"Spain",details:"eDetailing"},{latLng:[37.57,126.98],name:"South Korea",details:"eDetailing, Emailers"},{latLng:[40.06,-74.41],name:"United States",details:"eDetailing, Website Development"},{latLng:[52.23,21.01],name:"Poland",details:"Emailers"},{latLng:[4.21,101.98],name:"Malaysia",details:"eDetailing, Website Development, Emailers"},{latLng:[50.85,4.35],name:"Belgium",details:"eDetailing, Emailers"}];function renderMap(){$("#jvectormap").vectorMap({map:"world_mill",markers:COUNTRIES,backgroundColor:"#FFF",zoomMax:4,zoomMin:.7,zoomOnScroll:false,zoomStep:1.6,regionStyle:{initial:{fill:"#c5c5c5","fill-opacity":.8},hover:{fill:"#c5c5c5",cursor:"initial"}},markerStyle:{initial:{fill:"#3A3A9D","fill-opacity":.8,stroke:"#83D0F4",r:6},hover:{fill:"#3A3A9D",stroke:"black"}},focusOn:{x:.5,y:.5,scale:.9},onRegionTipShow:function(e){e.preventDefault()},onMarkerTipShow:function(e,tip,code){tip[0].innerHTML='<div class="country-name">'+COUNTRIES[code].name+"</div><div>"+COUNTRIES[code].details+"</div>"}})}function validateContactForm(form){var invalidName=!form.name.value.match(/^[a-z ,.'-]+$/i);document.getElementById("error-name").innerHTML=invalidName?"Valid name required":"&nbsp;";form.name.setAttribute("data-valid",invalidName?"error":"");var invalidEmail=!form.email.value.match(re=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);document.getElementById("error-email").innerHTML=invalidEmail?"Valid email required":"&nbsp;";form.email.setAttribute("data-valid",invalidEmail?"error":"");var invalidPhone=form.phone.value.length>0&&!form.phone.value.match(/^[0-9 ()-.+]+$/)&&form.phone.value.length>6;document.getElementById("error-phone").innerHTML=invalidPhone?"Valid phone no. required":"&nbsp;";form.phone.setAttribute("data-valid",invalidPhone?"error":"");var invalidMessage=!form.message.value.match(/^[a-zA-Z0-9?$@#()'!,+\-=_:.&€£*%\s]+$/);if(form.message.value.length<5){document.getElementById("error-message").innerHTML="Message required";form.message.setAttribute("data-valid","error");invalidMessage=true}else{document.getElementById("error-message").innerHTML=invalidMessage?"No special characters allowed in message body":"&nbsp;";form.message.setAttribute("data-valid",invalidMessage?"error":"")}if(!invalidName&&!invalidEmail&&!invalidMessage&&!invalidPhone){document.getElementById("submit-btn").value="Sending";$.ajax({type:"POST",url:"submit.php",data:{name:form.name.value.trim(),email:form.email.value.trim(),phone:form.phone.value.trim(),company:form.company.value.trim(),message:form.message.value.trim()},dataType:"JSON",done:function(sent){setTimeout(function(){if(!sent){form.classList.add("failure");document.getElementById("submit-btn").value="Try Again"}else{form.classList.add("success")}},2e3)}})}return false}$(window).on("load",function(){$(".slider").bbslider({auto:true,timer:4e3,loop:true,duration:666,pager:true,pagerWrap:".pager"});$(".slider").fadeTo(1,1);renderMap();checkScrollMethod()});